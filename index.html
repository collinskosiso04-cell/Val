<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine üíò</title>

  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; }

    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #0b0b0f;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      color: #fff;
      padding: 18px;
    }

    .card {
      width: min(720px, 96vw);
      background: rgba(0,0,0,0.72);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 22px;
      padding: 18px;
      box-shadow: 0 18px 60px rgba(0,0,0,0.55);
      backdrop-filter: blur(10px);
      overflow: hidden;
      position: relative;
    }

    h1 {
      margin: 8px 0 6px;
      font-size: clamp(26px, 5vw, 46px);
      font-weight: 900;
      text-align: center;
    }

    .sub {
      margin: 0 0 12px;
      text-align: center;
      font-size: clamp(14px, 2.4vw, 18px);
      opacity: 0.9;
      font-weight: 600;
    }

    .countdown {
      margin: 0 auto 14px;
      width: fit-content;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.12);
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 14px;
      font-weight: 800;
      text-align: center;
    }

    /* Slideshow */
    .slideshow {
      width: 100%;
      aspect-ratio: 4 / 5;
      border-radius: 18px;
      overflow: hidden;
      position: relative;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
    }

    .slideshow img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .slideshow img.active { opacity: 1; }

    .fallback {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
      text-align: center;
      font-weight: 900;
      color: rgba(255,255,255,0.90);
      background: rgba(0,0,0,0.35);
    }

    .controls {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 12px;
    }

    .chip {
      border: none;
      border-radius: 999px;
      padding: 10px 16px;
      background: rgba(255,255,255,0.10);
      color: #fff;
      font-weight: 900;
      cursor: pointer;
    }
    .chip:active { transform: scale(0.98); }

    .btnRow {
      margin-top: 12px;
      display: flex;
      justify-content: center;
      gap: 14px;
      position: relative;
      height: 84px;
    }

    .big {
      border: none;
      border-radius: 16px;
      padding: 14px 26px;
      font-size: 18px;
      font-weight: 1000;
      cursor: pointer;
      box-shadow: 0 12px 26px rgba(0,0,0,0.35);
    }

    #yes {
      background: #fff;
      color: #111;
    }

    /* No button stays INSIDE the card */
    #no {
      background: #111;
      color: #fff;
      position: absolute;
      left: 58%;
      top: 50%;
      transform: translate(-50%, -50%);
      white-space: nowrap;
    }

    .msg {
      margin-top: 10px;
      min-height: 22px;
      text-align: center;
      font-weight: 900;
      opacity: 0.85;
    }

    .tip {
      margin-top: 8px;
      text-align: center;
      font-size: 13px;
      opacity: 0.75;
      font-weight: 800;
    }

    canvas#confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 10;
    }

    /* Success screen */
    .success {
      height: 100vh;
      width: 100vw;
      background: #0b0b0f;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 18px;
      color: #fff;
    }

    .heart {
      font-size: clamp(90px, 14vw, 170px);
      animation: pulse 1.1s ease-in-out infinite;
      margin-bottom: 6px;
    }

    @keyframes pulse {
      0%   { transform: scale(1); }
      50%  { transform: scale(1.15); }
      100% { transform: scale(1); }
    }

    .success h2 {
      font-size: clamp(30px, 6vw, 56px);
      margin: 8px 0 10px;
      font-weight: 1000;
      letter-spacing: 1px;
    }

    .success .val {
      font-size: clamp(20px, 4vw, 30px);
      font-weight: 1000;
      margin: 0 0 6px;
    }

    .success .love {
      font-size: clamp(18px, 3.6vw, 26px);
      font-weight: 1000;
      margin: 0;
    }
  </style>
</head>

<body>
  <canvas id="confetti"></canvas>

  <div class="card" id="mainCard">
    <h1>Will you be my Valentine? üíò</h1>
    <p class="sub">Be honest‚Ä¶ but also choose wisely üòå</p>

    <div class="countdown" id="countdown">Loading countdown‚Ä¶</div>

    <!-- 4-photo slideshow (pic3 removed) -->
    <div class="slideshow" id="slideshow">
      <img src="pic1.jpeg" class="active" alt="pic1" />
      <img src="pic2.jpg" alt="pic2" />
      <img src="pic4.jpg" alt="pic4" />
      <img src="pic5.jpg" alt="pic5" />

      <div class="fallback" id="fallback" style="display:none;">
        Your photos aren‚Äôt loading üò≠<br><br>
        Make sure these files exist in the same folder as index.html:<br>
        pic1.jpeg, pic2.jpg, pic4.jpg, pic5.jpg
      </div>
    </div>

    <div class="controls">
      <button class="chip" id="resetBtn">üîÅ Reset buttons</button>
    </div>

    <div class="btnRow" id="btnRow">
      <button class="big" id="yes">Yes üòç</button>
      <button class="big" id="no">No üôÉ</button>
    </div>

    <div class="msg" id="msg"></div>
    <div class="tip">Tip: If ‚ÄúNo‚Äù is hard to click‚Ä¶ that‚Äôs the point üòà</div>
  </div>

  <script>
    // -------------------------------
    // Countdown
    // -------------------------------
    const countdownEl = document.getElementById("countdown");
    function updateCountdown(){
      const target = new Date("2026-02-14T00:00:00");
      const now = new Date();
      const diff = target - now;

      if(diff <= 0){
        countdownEl.textContent = "It‚Äôs Valentine‚Äôs Day üò≠‚ù§Ô∏è";
        return;
      }
      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / 86400);
      const hours = Math.floor((totalSeconds % 86400) / 3600);
      const mins = Math.floor((totalSeconds % 3600) / 60);
      const secs = totalSeconds % 60;

      countdownEl.textContent = `Countdown: ${days}d ${hours}h ${mins}m ${secs}s until Feb 14, 2026 üíù`;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // -------------------------------
    // Slideshow (4 pics)
    // -------------------------------
    const slides = Array.from(document.querySelectorAll(".slideshow img"));
    const fallback = document.getElementById("fallback");
    let slideIndex = 0;

    slides.forEach(img => {
      img.addEventListener("error", () => {
        fallback.style.display = "flex";
      });
    });

    setInterval(() => {
      if (!slides.length) return;
      slides[slideIndex].classList.remove("active");
      slideIndex = (slideIndex + 1) % slides.length;
      slides[slideIndex].classList.add("active");
    }, 2600);

    // -------------------------------
    // No button stays inside the card (always visible)
    // -------------------------------
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const btnRow = document.getElementById("btnRow");
    const msgEl = document.getElementById("msg");
    const resetBtn = document.getElementById("resetBtn");

    const taunts = [
      "Be serious üò≠",
      "Nice try üòå",
      "Wrong choice üíÄ",
      "No is not available üòà",
      "Just press YES üò≠‚ù§Ô∏è",
      "Why are you chasing ‚ÄòNo‚Äô? üòÇ"
    ];

    function randomTaunt(){
      msgEl.textContent = taunts[Math.floor(Math.random() * taunts.length)];
    }

    function moveNoInsideCard(){
      const pad = 8;
      const area = btnRow.getBoundingClientRect();

      const bw = noBtn.offsetWidth;
      const bh = noBtn.offsetHeight;

      const maxX = area.width - bw - pad;
      const maxY = area.height - bh - pad;

      const x = Math.max(pad, Math.floor(Math.random() * maxX));
      const y = Math.max(pad, Math.floor(Math.random() * maxY));

      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
      noBtn.style.transform = "none";
      randomTaunt();
    }

    noBtn.addEventListener("mouseover", moveNoInsideCard);
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoInsideCard();
    }, { passive: false });

    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoInsideCard();
    });

    resetBtn.addEventListener("click", () => {
      msgEl.textContent = "";
      noBtn.style.left = "58%";
      noBtn.style.top = "50%";
      noBtn.style.transform = "translate(-50%, -50%)";
    });

    // -------------------------------
    // Confetti
    // -------------------------------
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let W, H;
    function resize(){
      W = canvas.width = window.innerWidth;
      H = canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    let confetti = [];
    function makeConfetti(){
      confetti = [];
      const count = 240;
      for(let i=0;i<count;i++){
        confetti.push({
          x: Math.random() * W,
          y: -20 - Math.random() * 200,
          vx: (Math.random() - 0.5) * 6,
          vy: 3 + Math.random() * 6,
          size: 4 + Math.random() * 9,
          rot: Math.random() * Math.PI,
          vr: (Math.random() - 0.5) * 0.22,
          life: 180 + Math.random() * 140
        });
      }
    }

    function drawConfetti(){
      ctx.clearRect(0,0,W,H);
      confetti.forEach(p => {
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = `hsl(${(p.x+p.y)%360}, 90%, 60%)`;
        ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size*0.7);
        ctx.restore();
      });
    }

    function stepConfetti(){
      confetti.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.vy += 0.02;
        p.life -= 1;
      });
      confetti = confetti.filter(p => p.life > 0 && p.y < H + 80);
      drawConfetti();
      if(confetti.length > 0) requestAnimationFrame(stepConfetti);
    }

    // -------------------------------
    // YES = success screen (new text)
    // -------------------------------
    yesBtn.addEventListener("click", () => {
      makeConfetti();
      stepConfetti();

      document.body.innerHTML = `
        <canvas id="confetti"></canvas>
        <div class="success">
          <div class="heart">üíñ</div>
          <h2>IT‚ÄôS OFFICIAL üò≠‚ù§Ô∏è</h2>
          <p class="val">YOU ARE MY VALENTINE üíû</p>
          <p class="love">I LOVE YOU üòå</p>
        </div>
      `;

      // rehook confetti
      const newCanvas = document.getElementById("confetti");
      const newCtx = newCanvas.getContext("2d");
      function setSize(){
        newCanvas.width = window.innerWidth;
        newCanvas.height = window.innerHeight;
      }
      setSize();
      window.addEventListener("resize", setSize);

      function draw(){
        newCtx.clearRect(0,0,newCanvas.width,newCanvas.height);
        confetti.forEach(p => {
          newCtx.save();
          newCtx.translate(p.x, p.y);
          newCtx.rotate(p.rot);
          newCtx.fillStyle = `hsl(${(p.x+p.y)%360}, 90%, 60%)`;
          newCtx.fillRect(-p.size/2, -p.size/2, p.size, p.size*0.7);
          newCtx.restore();
        });
      }

      function animate(){
        confetti.forEach(p => {
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;
          p.vy += 0.02;
          p.life -= 1;
        });
        confetti = confetti.filter(p => p.life > 0 && p.y < newCanvas.height + 80);
        draw();
        if(confetti.length > 0) requestAnimationFrame(animate);
      }
      animate();
    });
  </script>
</body>
</html>
